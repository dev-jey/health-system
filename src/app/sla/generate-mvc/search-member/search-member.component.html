<div class="container-fluid">
  <form [formGroup]="searchForm" (submit)="searchMember($event)" novalidate>
    <div class="form-group row">
      <div class=" col-md-8 m-3 card-plain">
        <h3 class="text-medi">Search a member</h3>
        <br>
        <div class="row">
          <div class="col-md-5 mb-3">
            <!-- <select class="js-seslect" name="scheme_id" formControlName="scheme_id" (change)="onSelect()">
                  <option value="null" disabled>Select a scheme</option>
                  <option *ngFor="let scheme of schemes" [value]="scheme.scheme.id">
                    {{scheme.scheme.scheme_name}}
                  </option>
                </select> -->
            <ng-select placeholder="Select a Scheme" appearance="outline" labelForId="scheme_id" [searchable]="true"
              [clearable]="false" formControlName="scheme_id" (change)="onSelect()">
              <ng-option *ngFor="let scheme of schemes" [value]="scheme.scheme.id">
                {{scheme.scheme.scheme_name}}</ng-option>
            </ng-select>
            <span class="small text-danger form-error-span"
              *ngIf="searchForm.controls['scheme_id'].errors && searchFormSubmitted">
              {{searchFormErrors.required}}
            </span>
          </div>
          <div class="col-md-5">
            <div class="form-group has-success">
              <input type="text" class=" form-control input" name="member_no" formControlName="member_no"
                placeholder="Member No" />
              <span class="small text-danger form-error-span"
                *ngIf="searchForm.controls['member_no'].errors && searchFormSubmitted">
                {{searchFormErrors.required}}
              </span>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-5">
            <div class="form-group has-success">
              <input type="text" class="form-control input" name="mobile_phone_number"
                formControlName="mobile_phone_number" placeholder="Mobile No" />
            </div>
          </div>
          <div class="col-md-5">
            <div class="form-group has-success">
              <input type="text" class="form-control input" name="national_id" placeholder="National ID"
                formControlName="national_id" />
            </div>
          </div>
        </div>
        <div class="row guest-user-error-row" *ngIf="searchFormApiError.hasError">
          <div class="col-md-9 guest-user-error alert-error">
            {{searchFormApiError.message}}
          </div>
        </div>
        <div class="row pt-4">
          <button class="btn btn-success btn-sm ml-3" type="submit" [disabled]="loading">
            <img src="assets/images/ajax-loader.gif" width="20" height="20" *ngIf="loading"
              style="margin-left: -10px" />
            <i class="fas fa-search" *ngIf="!loading"></i> {{ searchButtonText }}</button>
        </div>
      </div>
    </div>
  </form>
  <div class="col-md-8 px-3 pb-4" *ngIf="memberFound">
    <div class="">
      <h4 class="text-medi">Member Details</h4>
    </div>
    <div class="card-body">

      <div class="table-responsive">
        <table class="table table-bordered table-hover">
          <thead class="thead-success">
            <th scope="col">Item</th>
            <th scope="col">Description</th>
          </thead>
          <tbody>
            <tr style="">
              <td>Member Name</td>
              <td>{{member.first_name}} {{member.last_name}}</td>
            </tr>
            <tr style="">
              <td>Phone Number</td>
              <td>{{member.mobile_phone_number | telFilter }}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <button class="btn btn-success btn-sm" mat-button matStepperNext>Next</button>
    </div>
  </div>
</div>